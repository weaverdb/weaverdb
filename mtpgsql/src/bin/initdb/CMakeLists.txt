

get_property(INSTALL GLOBAL PROPERTY INSTALL)
get_property(INSTL_EXE_OPTS GLOBAL PROPERTY INSTALL_EXE_OPTS)

message(WARNING "opts:" ${INSTL_EXE_OPTS})

add_custom_target(initdb ALL
    COMMAND env MULTIBYTE= sed -e 's/__MULTIBYTE__/${MULTIBYTE}/g' < initdb.sh > ${CMAKE_CURRENT_BINARY_DIR}/initdb
    COMMAND ${INSTALL} ${INSTL_EXE_OPTS} ${CMAKE_CURRENT_BINARY_DIR}/initdb ${CMAKE_RUNTIME_OUTPUT_DIRECTORY}/initdb
    WORKING_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}
    BYPRODUCTS 
       ${CMAKE_RUNTIME_OUTPUT_DIRECTORY}/initdb 
)


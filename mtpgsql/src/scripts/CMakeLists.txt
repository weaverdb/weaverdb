

get_property(INSTALL GLOBAL PROPERTY INSTALL)
get_property(INSTL_EXE_OPTS GLOBAL PROPERTY INSTALL_EXE_OPTS)

message(WARNING "opts:" ${INSTL_EXE_OPTS})

add_custom_target(scripts ALL
    COMMAND ${CMAKE_COMMAND} -E copy ${CMAKE_CURRENT_SOURCE_DIR}/comcheck.sh ${CMAKE_CURRENT_BINARY_DIR}/comcheck
    COMMAND ${INSTALL} ${INSTL_EXE_OPTS} comcheck ${CMAKE_RUNTIME_OUTPUT_DIRECTORY}/comcheck
    COMMAND ${CMAKE_COMMAND} -E copy ${CMAKE_CURRENT_SOURCE_DIR}/create_db.sh ${CMAKE_CURRENT_BINARY_DIR}/create_db
    COMMAND ${INSTALL} ${INSTL_EXE_OPTS} create_db ${CMAKE_RUNTIME_OUTPUT_DIRECTORY}/create_db
    COMMAND ${CMAKE_COMMAND} -E copy ${CMAKE_CURRENT_SOURCE_DIR}/init_db.sh ${CMAKE_CURRENT_BINARY_DIR}/init_db
    COMMAND ${INSTALL} ${INSTL_EXE_OPTS} init_db ${CMAKE_RUNTIME_OUTPUT_DIRECTORY}/init_db
    COMMAND ${CMAKE_COMMAND} -E copy ${CMAKE_CURRENT_SOURCE_DIR}/refresh_db.sh ${CMAKE_CURRENT_BINARY_DIR}/refresh_db
    COMMAND ${INSTALL} ${INSTL_EXE_OPTS} refresh_db ${CMAKE_RUNTIME_OUTPUT_DIRECTORY}/refresh_db
    COMMAND ${CMAKE_COMMAND} -E copy ${CMAKE_CURRENT_SOURCE_DIR}/reindex_db.sh ${CMAKE_CURRENT_BINARY_DIR}/reindex_db
    COMMAND ${INSTALL} ${INSTL_EXE_OPTS} reindex_db ${CMAKE_RUNTIME_OUTPUT_DIRECTORY}/reindex_db
    COMMAND ${CMAKE_COMMAND} -E copy ${CMAKE_CURRENT_SOURCE_DIR}/start_db.sh ${CMAKE_CURRENT_BINARY_DIR}/start_db
    COMMAND ${INSTALL} ${INSTL_EXE_OPTS} start_db ${CMAKE_RUNTIME_OUTPUT_DIRECTORY}/start_db
    COMMAND ${CMAKE_COMMAND} -E copy ${CMAKE_CURRENT_SOURCE_DIR}/stop_db.sh ${CMAKE_CURRENT_BINARY_DIR}/stop_db
    COMMAND ${INSTALL} ${INSTL_EXE_OPTS} stop_db ${CMAKE_RUNTIME_OUTPUT_DIRECTORY}/stop_db
    WORKING_DIRECTORY ${CMAKE_CURRENT_BINARY_DIR}
    BYPRODUCTS ${CMAKE_RUNTIME_OUTPUT_DIRECTORY}/comcheck 
        ${CMAKE_RUNTIME_OUTPUT_DIRECTORY}/create_db 
        ${CMAKE_RUNTIME_OUTPUT_DIRECTORY}/init_db 
        ${CMAKE_RUNTIME_OUTPUT_DIRECTORY}/refresh_db 
        ${CMAKE_RUNTIME_OUTPUT_DIRECTORY}/reindex_db 
        ${CMAKE_RUNTIME_OUTPUT_DIRECTORY}/start_db 
        ${CMAKE_RUNTIME_OUTPUT_DIRECTORY}/stop_db 
)

